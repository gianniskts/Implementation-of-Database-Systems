# Exercise 1

## HP - Heap File

### Structure
Η δομή HP_info κρατάει μεταδεδομένα που σχετίζονται με το αρχείο σωρού που αναπαριστά το HP. Η δομή αποτελείται από τα πεδία:
1) fileDesc: ο αριθμός του ανοικτού αρχείου σωρού
2) headerPosition: η θέση του header στο αρχείο σωρού
3) recordsPerBlock: ο αριθμός των εγγραφών που χωράει ένα block
4) isHeapFile/isHash: ένα flag που δείχνει αν το αρχείο σωρού είναι ένα αρχείο σωρού ή ένα αρχείο hash.

Η δομή HP_BlockInfo κρατάει μεταδεδομένα που σχετίζονται με ένα block του αρχείου σωρού. Η δομή αποτελείται από τα πεδία:
1) currentRecords: ο τρέχων αριθμός των εγγραφών που υπάρχουν στο block
2) recordsCount: η χωρητικότητα του block σε εγγραφές η οποία είναι ( sizeof(char) * BF_BLOCK_SIZE - sizeof(HP_block_info) ) / sizeof(Record)
3) nextBlock: η θέση του επόμενου block στο αρχείο σωρού

### Functions
Τα παρακάτω functions υλοποιούνται στο αρχείο hp_file.c:
1) HP_CreateFile: Δημιουργεί και αρχικοποιεί ένα νέο αρχείο σωρού με όνομα filename. Η συνάρτηση TC()  χρησιμοποιείται σε όλο το εύρος των εργασιών για error handling. Στο τέλος γίνονται τα κατάλληλα BF_Block_SetDirty και BF_Block_Destroy. Η συνάρτηση επιστρέφει 0 σε περίπτωση επιτυχίας και -1 σε περίπτωση αποτυχίας.
2) HP_OpenFile: Ανοίγει το αρχείο σωρού με όνομα filename. Σε περίπτωση αποτυχίας επιστρέφει NULL.
3) HP_CloseFile: Κλείνει το αρχείο σωρού που αναπαριστά το HP_info που δέχεται ως παράμετρο. Επιστρέφει 0 σε περίπτωση επιτυχίας και -1 σε περίπτωση αποτυχίας.
4) HP_InsertEntry: Εισάγει μια εγγραφή στο αρχείο σωρού που αναπαριστά το HP_info που δέχεται ως παράμετρο. Επιστρέφει το blockID σε περίπτωση επιτυχίας και -1 σε περίπτωση αποτυχίας.
5) HP_GetAllEntries: Επιστρέφει όλες τις εγγραφές του αρχείου σωρού που αναπαριστά το HP_info που δέχεται ως παράμετρο με ID == Value και εκτυπώνει τα περιεχόμενα της. Επιστρέφει τα blocks που διαβάστηκαν σε περίπτωση επιτυχίας και -1 σε περίπτωση αποτυχίας.

## HT - Hash Table

### Structure
Η δομή είναι ίδια με την δομή του αρχείου σωρού με την διαφορά ότι έχει προσθεθεί το hashTable.

### Functions
Τα παρακάτω functions υλοποιούνται στο αρχείο ht_table.c:
1) HT_CreateFile: Δημιουργεί και αρχικοποιεί ένα νέο αρχείο κατακερματισμού με όνομα filename. Το μέγεθος του hashTable είναι ( sizeof(char) * BF_BLOCK_SIZE - sizeof(HT_info) ). Επίσης γίνεται η δημιουργία και η αρχικοποίηση των buckets. Στο τέλος γίνονται τα κατάλληλα BF_Block_SetDirty και BF_Block_Destroy. Η συνάρτηση επιστρέφει 0 σε περίπτωση επιτυχίας και -1 σε περίπτωση αποτυχίας.
2) HT_OpenFile: Ανοίγει το αρχείο κατακερματισμού με όνομα filename. Σε περίπτωση αποτυχίας επιστρέφει NULL.
3) HT_CloseFile: Κλείνει το αρχείο κατακερματισμού που αναπαριστά το HT_info που δέχεται ως παράμετρο. Επιστρέφει 0 σε περίπτωση επιτυχίας και -1 σε περίπτωση αποτυχίας.
4) HT_InsertEntry: Εισάγει μια εγγραφή στο αρχείο κατακερματισμού που αναπαριστά το HT_info που δέχεται ως παράμετρο. Επιστρέφει το blockID σε περίπτωση επιτυχίας και -1 σε περίπτωση αποτυχίας.
5) HT_GetAllEntries: Επιστρέφει όλες τις εγγραφές του αρχείου κατακερματισμού που αναπαριστά το HT_info που δέχεται ως παράμετρο με ID == Value και εκτυπώνει τα περιεχόμενα της. Επιστρέφει τα blocks που διαβάστηκαν σε περίπτωση επιτυχίας και -1 σε περίπτωση αποτυχίας.

# Exercice 2

## SHT - Secondary Hash Table

### Structure
Η δομή είναι ίδια με την δομή του αρχείου κατακερματισμού με την διαφορά ότι έχει προσθεθεί το secondaryHashTable.

### Functions
Τα παρακάτω functions υλοποιούνται στο αρχείο sht_table.c:
1) SHT_CreateSecondaryIndex: Δημιουργεί και αρχικοποιεί ένα αρχείο δευτερεύοντος κατακερματισμού με όνομα sfileName για το αρχείο πρωτεύοντος κατακερματισμού fileName. Σε περίπτωση που εκτελεστεί επιτυχώς, επιστρέφεται 0, ενώ σε διαφορετική περίπτωση -1
2) SHT_OpenSecondaryIndex: Ανοίγει το αρχείο δευτερεύοντος κατακερματισμού με όνομα sfileName. Σε περίπτωση που εκτελεστεί επιτυχώς, επιστρέφεται το SHT_info του αρχείου, ενώ σε διαφορετική περίπτωση NULL.
3) SHT_CloseSecondaryIndex: Κλείνει το αρχείο δευτερεύοντος κατακερματισμού που αναπαριστά το SHT_info που δέχεται ως παράμετρο. Επιστρέφει 0 σε περίπτωση επιτυχίας και -1 σε περίπτωση αποτυχίας.
4) SHT_SecondaryInsertEntry: Εισάγει μια εγγραφή στο αρχείο δευτερεύοντος κατακερματισμού που αναπαριστά το SHT_info που δέχεται ως παράμετρο. Επιστρέφει 0 σε περίπτωση επιτυχίας και -1 σε περίπτωση αποτυχίας.
5) SHT_SecondaryGetAllEntries: Επιστρέφει όλες τις εγγραφές του αρχείου δευτερεύοντος κατακερματισμού που αναπαριστά το SHT_info που δέχεται ως παράμετρο με ID == Value και εκτυπώνει τα περιεχόμενα της. Επιστρέφει τα blocks που διαβάστηκαν σε περίπτωση επιτυχίας και -1 σε περίπτωση αποτυχίας.